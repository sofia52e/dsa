---
jupyter:
  jupytext:
    text_representation:
      extension: .md
      format_name: markdown
      format_version: '1.3'
      jupytext_version: 1.17.3
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
---

```python
import numpy as np
import matplotlib.pyplot as plt
import functools
import timeit
import typing

def get_usage_time(
    *, number: int = 1, setup: str = 'pass', ndigits: int = 3
) -> typing.Callable:
    def decorator(func: typing.Callable) -> typing.Callable:
        @functools.wraps(func)
        def wrapper(*args, **kwargs) -> float:
            usage_time = timeit.timeit(
                lambda: func(*args, **kwargs),
                setup=setup,
                number=number,
            )
            return round(usage_time / number, ndigits)
        return wrapper
    return decorator

student_number = 11
N = 20 - student_number  
n_max = 10**5 * N        
step = 100 * N          

n_values = []
avg_times = []


def horner_method(v, x):
    result = v[-1]
    for i in range(len(v) - 2, -1, -1):  
        result = v[i] + x * result
    return result


for n in range(1, n_max + 1, step):
    v = np.random.rand(n)  
    x = np.random.rand()   

   
    timed_horner = get_usage_time(number=5)(horner_method)
    avg_time = timed_horner(v, x)

    n_values.append(n)
    avg_times.append(avg_time)


plt.figure(figsize=(10, 6))
plt.plot(n_values, avg_times, marker='o', linestyle='-', color='purple', label='Эмпирическое время')
plt.title('Зависимость времени вычисления полинома методом Горнера от размера вектора')
plt.xlabel('Размер вектора (n)')
plt.ylabel('Среднее время выполнения (сек.)')
plt.grid(True)
plt.legend()
plt.tight_layout()
plt.show()

```

```python

```
