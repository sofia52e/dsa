---
jupyter:
  jupytext:
    text_representation:
      extension: .md
      format_name: markdown
      format_version: '1.3'
      jupytext_version: 1.17.3
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
---

```python
import numpy as np
import matplotlib.pyplot as plt
import functools
import timeit
import typing

def get_usage_time(
    *, number: int = 1, setup: str = 'pass', ndigits: int = 3
) -> typing.Callable:
    def decorator(func: typing.Callable) -> typing.Callable:
        @functools.wraps(func)
        def wrapper(*args, **kwargs) -> float:
            usage_time = timeit.timeit(
                lambda: func(*args, **kwargs),
                setup=setup,
                number=number,
            )
            return round(usage_time / number, ndigits)
        return wrapper
    return decorator

student_number = 11
N = 20 - student_number 
n_max = 10**5 * N       
step = 100 * N          

n_values = []
avg_times = []

def product_of_elements(v):
    result = 1.0
    for x in v:
        result *= x
    return result

for n in range(1, n_max + 1, step):
    v = np.random.rand(n)  

    timed_product = get_usage_time(number=5)(product_of_elements)
    avg_time = timed_product(v)

    n_values.append(n)
    avg_times.append(avg_time)

plt.figure(figsize=(10, 6))
plt.plot(n_values, avg_times, marker='o', linestyle='-', color='green', label='Эмпирическое время')
plt.title('Зависимость времени выполнения f₃(v) = ∏ v_k от размера вектора')
plt.xlabel('Размер вектора (n)')
plt.ylabel('Среднее время выполнения (сек.)')
plt.grid(True)
plt.legend()
plt.tight_layout()
plt.show()

```

```python

```
